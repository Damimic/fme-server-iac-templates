{
  "version": 4,
  "terraform_version": "1.2.5",
  "serial": 10,
  "lineage": "b3576514-abec-9ffa-4d05-84d5650d1ce3",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "local",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "4430300358704389800",
            "triggers": {
              "template": "\u003cpowershell\u003e\n# Parameters\n\n$databasePassword = pw\n\n$databaseUsername = username\n\n$databasehostname = db-hostname.com\n\n$externalhostname = hostname.com\n\n$storageAccountKey = acocuntkey\n\n$storageAccountName = accountname\n\n# Add instance to a file share domain\n$awsRegion     = \"\" \n$domainConfig  = \"\"\n\nSet-DefaultAWSRegion -Region $awsRegion\nSet-Variable -name instance_id -value (Invoke-Restmethod -uri http://169.254.169.254/latest/meta-data/instance-id)\nNew-SSMAssociation -InstanceId $instance_id -Name \"$domainConfig\"\n\n# Create task to initialize FME Server\n$action = New-ScheduledTaskAction -Execute \"powershell.exe\" -Argument \"-ExecutionPolicy Unrestricted -File C:\\\\config_fmeserver_confd_aws.ps1 -databasehostname $databasehostname -databasePassword $databasePassword -databaseUsername $databaseUsername -externalhostname $externalhostname -storageAccountName $storageAccountName -storageAccountKey $storageAccountKey \u003eC:\\\\confd-log.txt 2\u003e\u00261\"\n$trigger = New-ScheduledTaskTrigger -AtStartup\n$principal = New-ScheduledTaskPrincipal -UserId SYSTEM -LogonType ServiceAccount -RunLevel Highest\n$definition = New-ScheduledTask -Action $action -Principal $principal -Trigger $trigger -Description \"Initialize FME Server core\"\nRegister-ScheduledTask -TaskName \"coreInit\" -InputObject $definition\n\u003c/powershell\u003e"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    }
  ]
}
